# 自动和弦在线Web程序 - 需求文档

## 1. 项目概述

自动和弦在线Web程序是一个基于网页的音乐应用，允许用户通过键盘按键或按键组合来播放各种音乐和弦。该应用的主要目标是为音乐学习者、作曲家和音乐爱好者提供一个便捷的和弦演奏工具，帮助他们探索和学习不同的和弦结构。

## 2. 功能需求

### 2.1 基本和弦映射

用户可以通过按下单个键来播放基本和弦：

| 按键 | 和弦    | 音符组合 |
|------|---------|----------|
| Q    | C       | C-E-G    |
| W    | Dm      | D-F-A    |
| E    | Em      | E-G-B    |
| R    | F       | F-A-C    |
| T    | G       | G-B-D    |
| Y    | Am      | A-C-E    |
| U    | Bdim    | B-D-F    |
| A    | C♯dim   | C♯-E-G   |
| S    | D♯aug   | D♯-G-B   |
| D    | F♯dim   | F♯-A-C   |
| F    | F♯aug   | F♯-A♯-D  |
| G    | G♯dim   | G♯-B-D   |
| H    | Bb      | Bb-D-F   |
| Z    | Cmaj7   | C-E-G-B  |
| X    | Dm7     | D-F-A-C  |
| C    | Em7     | E-G-B-D  |
| V    | Fmaj7   | F-A-C-E  |
| B    | G7      | G-B-D-F  |
| N    | Am7     | A-C-E-G  |
| M    | Bm7b5   | B-D-F-A  |

### 2.2 和弦性质修饰符

用户可以通过组合键来强制应用特定的和弦性质：

| 修饰键组合      | 效果                   | 示例                |
|-----------------|------------------------|---------------------|
| Shift + 按键    | 强制大三和弦           | Shift+Q → C大三和弦 |
| Ctrl + 按键     | 强制小三和弦           | Ctrl+Q → C小三和弦  |
| Alt + 按键      | 强制大七和弦           | Alt+Q → Cmaj7      |
| Ctrl + Alt + 按键| 强制小七和弦           | Ctrl+Alt+Q → Cm7   |
| Shift + Alt + 按键| 强制属七和弦         | Shift+Alt+Q → C7   |

### 2.3 用户界面需求

1. 键盘映射显示区域：显示当前可用的按键和对应的和弦
2. 和弦显示区域：显示当前播放的和弦名称和组成音符
3. 虚拟钢琴键盘：显示当前和弦在钢琴键盘上的位置
4. 和弦图表示：使用吉他或钢琴和弦图形式显示
5. 设置面板：允许用户自定义声音、音量和其他参数
6. 帮助/教程区域：提供使用说明和基础音乐理论

### 2.4 音频需求

1. 使用高质量的音频样本或合成器生成和弦声音
2. 支持调整音量、音色和混响效果
3. 支持调整和弦的八度位置
4. 低延迟音频处理，确保实时响应

### 2.5 扩展功能（可选）

1. 和弦进行保存和加载功能
2. 和弦进行录制和回放功能
3. 自定义按键映射
4. 多种乐器音色选择
5. 节奏和伴奏功能
6. 社区分享功能
7. 移动设备触屏支持

## 3. 非功能需求

### 3.1 性能需求

1. 音频延迟：按键与声音输出之间的延迟不超过50毫秒
2. 页面加载时间：初始加载不超过3秒（在标准网络条件下）
3. 兼容性：支持所有主流现代浏览器（Chrome、Firefox、Safari、Edge）

### 3.2 安全需求

1. 所有用户数据（如保存的和弦进行）应安全存储
2. 如实现用户账户系统，应采用标准的身份验证和授权机制

### 3.3 可用性需求

1. 直观的用户界面，最小化学习曲线
2. 清晰的视觉和听觉反馈
3. 详细的帮助文档和教程
4. 支持键盘快捷键进行常用操作
5. 响应式设计，适应不同屏幕尺寸

## 4. 技术约束

1. 使用Web Audio API进行音频处理
2. 使用现代JavaScript框架（React/Vue等）构建用户界面
3. 开发阶段使用标准的Web开发工具链
4. 可离线使用，减少对服务器的依赖

## 5. 用户场景

### 场景1：音乐初学者
李明是一位音乐初学者，想要了解基本和弦。他可以使用此应用按下不同按键，听到各种和弦的声音，同时看到和弦的组成音符和在钢琴键盘上的位置，帮助他理解和弦结构。

### 场景2：作曲家
张华是一位业余作曲家，需要快速尝试不同的和弦进行。他使用此应用，通过键盘快速播放不同和弦组合，找到适合他作品的和声进行。

### 场景3：音乐教师
王老师是一位音乐教师，在课堂上需要展示不同和弦。她使用此应用投影到大屏幕上，让学生们同时看到和听到不同和弦，增强教学效果。

## 6. 验收标准

1. 所有基本和弦映射按键正常工作
2. 所有修饰键组合能正确应用和弦性质
3. 用户界面元素完整且响应迅速
4. 音频清晰，延迟在可接受范围内
5. 在所有目标浏览器上正常运行
6. 帮助文档完整且易于理解 